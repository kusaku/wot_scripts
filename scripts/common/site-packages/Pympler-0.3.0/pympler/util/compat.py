# Embedded file name: scripts/common/site-packages/Pympler-0.3.0/pympler/util/compat.py
"""
Compatibility layer to allow Pympler being used from Python 2.x and Python 3.x.
"""
import sys
try:
    from StringIO import StringIO
    BytesIO = StringIO
except ImportError:
    from io import StringIO, BytesIO

try:
    import cPickle as pickle
except ImportError:
    import pickle

try:
    from new import instancemethod
except ImportError:

    def instancemethod(*args):
        return args[0]


try:
    from HTMLParser import HTMLParser
except ImportError:
    from html.parser import HTMLParser

try:
    from httplib import HTTPConnection
except ImportError:
    from http.client import HTTPConnection

try:
    from urllib2 import Request, urlopen, URLError
except ImportError:
    from urllib.request import Request, urlopen
    from urllib.error import URLError

encode4pipe = lambda s: s
if sys.hexversion >= 50331648:
    encode4pipe = lambda s: s.encode()

def object_in_list(obj, l):
    """Returns True if object o is in list.
    
    Required compatibility function to handle WeakSet objects.
    """
    for o in l:
        if o is obj:
            return True

    return False